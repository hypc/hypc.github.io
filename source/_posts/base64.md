---
title: Base64
date: 2018-07-21 14:51:11
tags: [base64]
---

Base64是网络上最常见的用于传输8Bit字节码的编码方式之一，Base64就是一种基于64个可打印字符来表示二进制数据的方法。
可查看RFC2045～RFC2049，上面有MIME的详细规范。

标准的Base64并不适合直接放在URL里传输，因为URL编码器会把标准Base64中的`/`和`+`字符变为形如`%XX`的形式，
而这些`%`号在存入数据库时还需要再进行转换，因为ANSI SQL中已将`%`号用作通配符。

为解决此问题，可采用一种用于URL的改进Base64编码，它在末尾填充'='号，
并将标准Base64中的`+`和`/`分别改成了`-`和`_`，这样就免去了在URL编解码和数据库存储时所要作的转换，
避免了编码信息长度在此过程中的增加，并统一了数据库、表单等处对象标识符的格式。

另有一种用于正则表达式的改进Base64变种，它将`+`和`/`改成了`!`和`-`，
因为`+`,`*`以及前面在IRCu中用到的`[`和`]`在正则表达式中都可能具有特殊含义。

此外还有一些变种，它们将`+/`改为`_-`或`._`（用作编程语言中的标识符名称）
或`.-`（用于XML中的Nmtoken）甚至`_:`（用于XML中的Name）。

Base64要求把每三个8Bit的字节转换为四个6Bit的字节（`3*8 = 4*6 = 24`），然后把6Bit再添两位高位0，
组成四个8Bit的字节，也就是说，转换后的字符串理论上将要比原来的长1/3。

<!--more-->

**Base64索引表**

数值|字符|数值|字符|数值|字符|数值|字符
---|---|---|---|---|---|---|---
  0| A | 16| Q | 32| g | 48| w
  1| B | 17| R | 33| h | 49| x
  2| C | 18| S | 34| i | 50| y
  3| D | 19| T | 35| j | 51| z
  4| E | 20| U | 36| k | 52| 0
  5| F | 21| V | 37| l | 53| 1
  6| G | 22| W | 38| m | 54| 2
  7| H | 23| X | 39| n | 55| 3
  8| I | 24| Y | 40| o | 56| 4
  9| J | 25| Z | 41| p | 57| 5
 10| K | 26| a | 42| q | 58| 6
 11| L | 27| b | 43| r | 59| 7
 12| M | 28| c | 44| s | 60| 8
 13| N | 29| d | 45| t | 61| 9
 14| O | 30| e | 46| u | 62| +
 15| P | 31| f | 47| v | 63| /
